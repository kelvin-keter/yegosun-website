{% extends "base.html" %}
{% block title %}Our Solutions{% endblock %}

{% block content %}
<div class="position-relative py-5" style="background: linear-gradient(rgba(13, 46, 31, 0.85), rgba(13, 46, 31, 0.9)), url('{{ url_for('static', filename='images/hero-3.jpg') }}'); background-size: cover; background-position: center; padding-bottom: 6rem !important;">
    <div class="container py-5 text-center text-white">
        <h6 class="text-warning fw-bold text-uppercase tracking-wide mb-2">Technical Excellence</h6>
        <h1 class="display-4 fw-extrabold mb-3">Engineered for Efficiency</h1>
        <p class="lead text-white-50 mx-auto" style="max-width: 700px;">From multi-megawatt industrial grids to community water systems, we design energy infrastructure that lasts.</p>
    </div>
</div>

<section class="py-5 bg-white">
    <div class="container py-5">
        
        {% if services %}
            {% for service in services %}
            <div class="row align-items-center g-5 mb-5 pb-5 border-bottom">
                
                {% if loop.index is odd %}
                    <div class="col-lg-6 order-2 order-lg-1">
                        <div class="d-flex align-items-center mb-3">
                            <span class="bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px;">
                                <i class="fa-solid fa-bolt fa-lg"></i>
                            </span>
                            <h6 class="text-success fw-bold text-uppercase mb-0 tracking-wide">Service {{ loop.index }}</h6>
                        </div>
                        <h2 class="fw-extrabold mb-4 display-6">{{ service.title }}</h2>
                        <p class="text-muted lead mb-4">{{ service.description }}</p>
                        <a href="{{ url_for('contact') }}" class="btn btn-outline-dark rounded-pill px-4 fw-bold">Request Quote</a>
                    </div>
                    <div class="col-lg-6 order-1 order-lg-2">
                        <div class="position-relative">
                            <div class="bg-warning position-absolute top-0 end-0 rounded-4" style="width: 100%; height: 100%; transform: translate(20px, -20px); z-index: 0;"></div>
                            {% if service.image_url %}
                            <img src="{{ service.image_url }}" class="img-fluid rounded-4 shadow-lg position-relative" style="z-index: 1; width: 100%; height: 350px; object-fit: cover;" alt="{{ service.title }}">
                            {% else %}
                            <img src="{{ url_for('static', filename='images/project-industry.jpg') }}" class="img-fluid rounded-4 shadow-lg position-relative" style="z-index: 1;" alt="Placeholder">
                            {% endif %}
                        </div>
                    </div>

                {% else %}
                    <div class="col-lg-6 order-2 order-lg-2"> <div class="d-flex align-items-center mb-3">
                            <span class="bg-warning text-dark rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px;">
                                <i class="fa-solid fa-solar-panel fa-lg"></i>
                            </span>
                            <h6 class="text-warning fw-bold text-uppercase mb-0 tracking-wide">Service {{ loop.index }}</h6>
                        </div>
                        <h2 class="fw-extrabold mb-4 display-6">{{ service.title }}</h2>
                        <p class="text-muted lead mb-4">{{ service.description }}</p>
                        <a href="{{ url_for('contact') }}" class="btn btn-outline-dark rounded-pill px-4 fw-bold">Request Quote</a>
                    </div>
                    <div class="col-lg-6 order-1 order-lg-1"> <div class="position-relative">
                            <div class="bg-success position-absolute bottom-0 start-0 rounded-4" style="width: 100%; height: 100%; transform: translate(-20px, 20px); z-index: 0;"></div>
                            {% if service.image_url %}
                            <img src="{{ service.image_url }}" class="img-fluid rounded-4 shadow-lg position-relative" style="z-index: 1; width: 100%; height: 350px; object-fit: cover;" alt="{{ service.title }}">
                            {% else %}
                            <img src="{{ url_for('static', filename='images/project-school.jpg') }}" class="img-fluid rounded-4 shadow-lg position-relative" style="z-index: 1;" alt="Placeholder">
                            {% endif %}
                        </div>
                    </div>
                {% endif %}

            </div>
            {% endfor %}

        {% else %}
            <div class="text-center py-5">
                <div class="mb-4 text-muted opacity-25"><i class="fa-solid fa-server fa-4x"></i></div>
                <h3 class="fw-bold">Services Loading...</h3>
                <p class="text-muted">We are currently updating our service catalog. Please check back in a few minutes.</p>
                <a href="{{ url_for('contact') }}" class="btn btn-success rounded-pill px-4">Contact Support</a>
            </div>
        {% endif %}
    </div>
</section>

<section class="py-5 bg-dark text-white">
    <div class="container py-5">
        <div class="text-center mb-5">
            <h6 class="text-warning fw-bold text-uppercase">The Hardware</h6>
            <h2 class="fw-extrabold">Only Tier-1 Components</h2>
            <p class="text-white-50">We do not compromise on quality. Every installation uses globally certified equipment.</p>
        </div>
        
        <div class="table-responsive">
            <table class="table table-dark table-hover border-secondary align-middle">
                <thead>
                    <tr class="text-uppercase text-secondary small">
                        <th class="py-3 ps-4">Component</th>
                        <th class="py-3">Preferred Brands</th>
                        <th class="py-3">Warranty</th>
                        <th class="py-3 pe-4">Why We Use It</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ps-4 fw-bold text-warning"><i class="fa-solid fa-solar-panel me-2"></i> Solar Panels</td>
                        <td>Jinko, Longi, JA Solar</td>
                        <td>25 Years</td>
                        <td class="text-white-50 small">Highest efficiency per square meter in low light conditions.</td>
                    </tr>
                    <tr>
                        <td class="ps-4 fw-bold text-warning"><i class="fa-solid fa-car-battery me-2"></i> Inverters</td>
                        <td>Victron, Huawei, SMA</td>
                        <td>5-10 Years</td>
                        <td class="text-white-50 small">Robust surge protection and remote monitoring capabilities.</td>
                    </tr>
                    <tr>
                        <td class="ps-4 fw-bold text-warning"><i class="fa-solid fa-battery-full me-2"></i> Storage</td>
                        <td>Pylontech, Tesla, Freedom Won</td>
                        <td>10 Years</td>
                        <td class="text-white-50 small">Lithium Iron Phosphate (LiFePO4) for safety and longevity.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<section class="py-5 bg-light">
    <div class="container py-5 text-center">
        <h6 class="text-success fw-bold text-uppercase">Next Steps</h6>
        <h2 class="fw-extrabold mb-4">How We Power Your Project</h2>
        
        <div class="row g-4 justify-content-center">
            <div class="col-md-3">
                <div class="p-4 bg-white shadow-sm rounded-4 h-100">
                    <span class="display-4 fw-bold text-black-50 mb-3 d-block">01</span>
                    <h5 class="fw-bold">Energy Audit</h5>
                    <p class="text-muted small">We analyze your consumption patterns.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-4 bg-white shadow-sm rounded-4 h-100">
                    <span class="display-4 fw-bold text-black-50 mb-3 d-block">02</span>
                    <h5 class="fw-bold">Design</h5>
                    <p class="text-muted small">Custom engineering schematic.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-4 bg-white shadow-sm rounded-4 h-100">
                    <span class="display-4 fw-bold text-black-50 mb-3 d-block">03</span>
                    <h5 class="fw-bold">Install</h5>
                    <p class="text-muted small">Execution by EPRA certified teams.</p>
                </div>
            </div>
        </div>

        <div class="mt-5">
            <a href="{{ url_for('contact') }}" class="btn btn-warning btn-lg px-5 fw-bold shadow-lg rounded-pill">Start Your Project</a>
        </div>
    </div>
</section>
{% endblock %}